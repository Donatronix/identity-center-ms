<VirtualHost *:8080>
    DocumentRoot /var/www/html/public
    ServerName is.sumra.net

    <Directory "/var/www/html/public">
        AllowOverride all
        Require all granted

        <IfModule mod_headers.c>
            Header set Access-Control-Allow-Origin "*"
            Header set Access-Control-Allow-Methods "*"
            Header set Access-Control-Allow-Headers "*"
        </IfModule>
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # Add vhost name to log entries:
    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" vhost_combined
    LogFormat "%v %h %l %u %t \"%r\" %>s %b" vhost_common

    #CustomLog /var/log/apache2/access.log vhost_combined
    #LogLevel warn
    #ErrorLog /var/log/apache2/error.log

    # Always ensure Cookies have "Secure" set (JAH 2012/1)
    #Header edit Set-Cookie (?i)^(.*)(;\s*secure)??((\s*;)?(.*)) "$1; Secure$3$4"
</VirtualHost>

<VirtualHost *:8443>
    DocumentRoot /var/www/html/public
    ServerName is.sumra.net

    <Directory "/var/www/html/public">
        AllowOverride all
        Require all granted

        <IfModule mod_headers.c>
            Header set Access-Control-Allow-Origin "*"
            Header set Access-Control-Allow-Methods "*"
            Header set Access-Control-Allow-Headers "*"
        </IfModule>
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    
    # Add vhost name to log entries:
    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" vhost_combined
    LogFormat "%v %h %l %u %t \"%r\" %>s %b" vhost_common

    # Example SSL configuration
    # SSLEngine on
    # SSLProtocol all -SSLv2
    # SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
    # SSLCertificateFile "/var/www/www.foo.com/ssl/server.crt"
    # SSLCertificateKeyFile "/var/www/www.foo.com/ssl/server.key"
</VirtualHost>
